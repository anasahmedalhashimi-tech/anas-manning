<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ANAS ALKILIDAR SIGNALS | XAUUSD Live</title>
<script src="https://s3.tradingview.com/tv.js"></script>
<style>
body { background: #0a0a0a; color: #fff; font-family: Arial, sans-serif; text-align: center; padding: 20px; }
h1 { color: gold; font-size: 32px; margin-bottom: 20px; }
#chart { height: 600px; max-width: 1100px; margin: auto; }
#signal { margin-top: 20px; font-size: 28px; font-weight: bold; }
#details { margin-top: 12px; font-size: 18px; color: #ccc; }
</style>
</head>
<body>

<h1>ANAS ALKILIDAR SIGNALS - LIVE GOLD XAU/USD</h1>
<div id="chart"></div>
<div id="signal"></div>
<div id="details"></div>

<script>
// ===== TradingView Widget =====
new TradingView.widget({
  "container_id": "chart",
  "autosize": true,
  "symbol": "OANDA:XAUUSD",
  "interval": "1",
  "timezone": "Etc/UTC",
  "theme": "dark",
  "style": "1",
  "locale": "ar",
  "toolbar_bg": "#333",
  "studies": [
    "EMAExp@tv-basicstudies",
    "EMAExp@tv-basicstudies",
    "EMAExp@tv-basicstudies",
    "MACD@tv-basicstudies",
    "RSI@tv-basicstudies",
    "BollingerBands@tv-basicstudies"
  ]
});

// ===== إعدادات SL وTP =====
const slPoints = 1.5;
const tpPoints = 2.5;

// ===== تحديث مباشر =====
function generateSignal() {
    const price = parseFloat(document.querySelector(".tv-symbol-price").innerText.replace(",", "")) || 5320; // السعر اللحظي
    const buy = Math.random() > 0.5; // للتجربة، لاحقاً يمكن API لحقيقي
    const sl = buy ? (price - slPoints).toFixed(2) : (price + slPoints).toFixed(2);
    const tp = buy ? (price + tpPoints).toFixed(2) : (price - tpPoints).toFixed(2);

    document.getElementById("signal").innerText = buy ? "BUY" : "SELL";
    document.getElementById("details").innerText = `الدخول: ${price} | SL: ${sl} | TP: ${tp}`;
}

// ===== تحديث كل ثانية =====
generateSignal();
setInterval(generateSignal, 1000);
</script>

</body>
</html>
